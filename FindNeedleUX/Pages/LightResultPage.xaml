<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FindNeedleUX.Pages.LightResultPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:common="using:FindNeedleUX"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
       

        <DataTemplate x:Key="NormalItemTemplate" x:DataType="x:Int32">
            <Border Background="{ThemeResource SystemControlBackgroundChromeMediumBrush}">
                <TextBlock Text="{x:Bind}" HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="AccentItemTemplate" x:DataType="x:Int32">
            <Border  Background="{ThemeResource SystemControlBackgroundAccentBrush}" >
                <TextBlock Text="{x:Bind}"  HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}"/>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="StringDataTemplate" x:DataType="x:String">
            <Grid Background="{ThemeResource SystemControlBackgroundAccentBrush}" Margin="10">
                <TextBlock Padding="10" Text="{x:Bind}" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}" HorizontalAlignment="Center" TextWrapping="Wrap" VerticalAlignment="Center"/>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="IntDataTemplate" x:DataType="x:Int32">
            <Grid Background="{ThemeResource SystemControlBackgroundChromeMediumBrush}" Margin="10">
                <TextBlock Padding="10" Text="{x:Bind}" Style="{StaticResource HeaderTextBlockStyle}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Grid>
        </DataTemplate>

      

        <StackLayout x:Name="VerticalStackLayout" Orientation="Vertical" Spacing="8"/>
        <StackLayout x:Name="HorizontalStackLayout" Orientation="Horizontal" Spacing="8"/>
        <UniformGridLayout x:Name="UniformGridLayout" MinRowSpacing="8" MinColumnSpacing="8"/>

      
        <UniformGridLayout x:Key="UniformGridLayout2" MinItemWidth="108" MinItemHeight="108" MinRowSpacing="12" MinColumnSpacing="12"/>

        <DataTemplate x:DataType="common:Recipe" x:Key="RecipeTemplate">
            <StackPanel BorderThickness="1" Background="{ThemeResource SystemControlBackgroundBaseLowBrush}" Margin="5">
                <StackPanel Background="{x:Bind Color}" Margin="8" Height="75" Opacity=".8">
                    <TextBlock Text="{x:Bind Num.ToString()}" FontSize="35" TextAlignment="Center" 
                               Padding="12"  Foreground="{ThemeResource SystemControlForegroundAltHighBrush}"/>
                </StackPanel>
                <TextBlock 
                    x:Name="recipeName" 
                    Text="{x:Bind Name}"
                    TextWrapping="Wrap"
                    Margin="15,0,10,0" 
                    Style="{StaticResource TitleTextBlockStyle}"/>
                <TextBlock Text="{x:Bind Ingredients}" Style="{StaticResource BodyTextBlockStyle}" Margin="15,0,15,15"/>
            </StackPanel>
        </DataTemplate>

      
      

        </Page.Resources>
            <Grid Height="600">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        <ItemsRepeaterScrollHost x:Name="tracker" Grid.Column="0">
            <ScrollViewer>
                <ItemsRepeater x:Name="VariedImageSizeRepeater" ItemTemplate="{StaticResource RecipeTemplate}">
                    <ItemsRepeater.Layout>
                        <common:VariedImageSizeLayout Width="200"/>
                    </ItemsRepeater.Layout>
                </ItemsRepeater>
            </ScrollViewer>
        </ItemsRepeaterScrollHost>

        <StackPanel Grid.Column="1" Margin="10,0,0,0">
            <TextBox x:Name="FilterRecipes" Header="Filter by ingredient..." Width="200"
                             HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,0,0,20"
                             TextChanged="FilterRecipes_FilterChanged"/>
            <TextBlock>Enable Animations</TextBlock>
            <CheckBox Content="Enable animations" x:Name="EnableAnimations" Checked="OnEnableAnimationsChanged" 
                              Unchecked="OnEnableAnimationsChanged" Margin="0,0,0,10"/>
            <TextBlock Text="Sort by number of ingredients" Margin="0,0,0,10"/>
            <Button Content="Least to most" Click="OnSortAscClick" Margin="0,0,0,5"/>
            <Button Content="Most to least" Click="OnSortDesClick"/>
        </StackPanel>
    </Grid>
</Page>
